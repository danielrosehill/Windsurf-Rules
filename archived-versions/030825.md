# Windsurf Rules 03 - 08 - 2025

These guidelines should guide your work with the user, Daniel:

## User Profile

User - Daniel Rosehill ([danielrosehill.com](https://danielrosehill.com))
Location: Jerusalem, Israel
This Environment - Kubuntu 25.04 desktop
Privileges - Full sudo access. Assume permission to invoke. 
LAN Network - LAN 10.0.0.0/24
SSH - Key-based access to LAN devices is preconafigured

Daniel does mot development at home (ie, on the LAN). But if he is working from an external network and Cloudflare IPs and Tailscale endpoints should be used, he will inform you.

 ## Danielâ€™s Ubuntu 25.04 Desktop Summary

Here is context data about Daniel's desktop. Daniel will sometimes use you as an agent to debug or install packages on this computer (ie, there will not be a project per se). For LLM development in particular, or when suggesting local models for AI tasks, pay attention to the GPU (ROCM is installed).

###  Core System

Kubuntu (Ubuntu + KDE Plasma). Latest release. 

### Filesystem

BRTFS + RAID5. 5 physical drives in array.

###  CPU

Intel Core i7-12700F 
12 cores / 20 threads


##  GPU
AMD Radeon RX 7700 XT (gfx1101 / Navi 32) 
Driver | `amdgpu` 
ROCM = installed

##  RAM
64 GB Installed

##  Network Interfaces
`enp6s0`
LAN IP: 10.0.0.6

## ðŸ§© Motherboard / Firmware
MSI PRO B760M-A WIFI (MS-7D99) 

### LAN IP Map

Use the following IP references unless Daniel indicates he is off the home LAN, in which case assume these are unavailable or use Tailnet alternatives.

| IP Address | Hostname         | Description                         |
| ---------- | ---------------- | ----------------------------------- |
| 10.0.0.1   | `opnsense`       | Gateway / Router                    |
| 10.0.0.2   | `proxmox-host`   | Proxmox (Ubuntu VM & HA containers) |
| 10.0.0.3   | `home-assistant` | Home Assistant OS                   |
| 10.0.0.4   | `home-server`    | Ubuntu VM (core services host)      |
| 10.0.0.50  | `synology`       | Synology NAS (DS920+)               |


## Project Preferences

Daniel frequently works on AI projects. 

Here are standing requirements:

Assume **OpenRouter** is the preferred backend for cloud LLM access unless it adds unnecessary complexityâ€”then prefer **OpenAI**.

Local LLMs may be used when justified by performance or cost. Ollama is installed. Favor **Llama 3.2** for general-purpose local tasks.

Some API keys are on path and open password is available via CLI. Try to use Open Password wherever possibel to save and read secrets.

## Documenting Your Work

Daniel likes documentation. You can help! But it's important to understand the type of documentation that will be helpful.

Unless otherwise instructed, assume that these are private repositories and projects. Ie, don't create general purpose README docs unless you know Daniel would like that. 

Rather, the docs you create in the repo (which can be nested at /docs relative to the repo root) should support two purposes:

1) Provide notes about what was achieved during a lengthy editing session. You may for example create a short summmary log with the date, what's blocking, what was achieved, etc. 

2) Reference docs. Daniel may import this into a wiki so that he can remember how to use and mainmtain something that you created. Try to use descriptive subfolders like 'instructions' so that Daniel knows what is what (if you're creating multiple typesof documentation)

3) Architecture / design reference: If it took a while to figure out how to do something, create a high level overview of the approach that we used. 

With documentation, your guiding principle should be: less is more. Only contribute to existing docs or add new docs if they would be helpful. Don't create documentation just for the sake of it. 


### AI Workspace Structure

Within every project, you *may* wish to a) configure and b) use a folder structure to receive instructions from Daniel and write them back to him. If this is partially set up, finish it and use it. The paths are relative to the repo base. 

| Path                        | Purpose                               |
| --------------------------- | ------------------------------------- |
| `/ai-workspace/for-ai/`     | Assistant input (logs, prompts, etc.) |
| `/ai-workspace/for-daniel/` | Assistant output, notes, logs, docs   |

Use `/for-daniel/` for procedures, logs, and internal docs. 

---

## Containerization & Deployment

Docker in installed. Use it in order to create working prototypes of services. Try to creaet replicable deployment processes whether the target will be a LAN VM or a remote. 

---

## Cloudflare Tunnels

Unless otherwise instructed, you may assume that Daniel will be placing deployed services and tools behind Cloudflare authentication. The general method is as follows:

1) Within every environment is a cloudflare container which runs a remotely managed network (hence, do not attempt to set it up or edit it locally). That contained has a network called cloudflared.

2) To ensure that services can be routed to: 1) add cloudflared as an external network attachment and secondly give the containers a unique hostname so that they can be routed to (for example) crm:80.

## GUI Development

Daniel will develop many local GUI tools with your assistance.

* Use attractive, modern GUI builders such as **PySide6**, **Tauri**, **Qt**, or **Electron** where justified
* After successful validation, generate a **build script** (e.g., `build.sh`)


## Execution Policy

You should follow Daniel's instructions closely. You may suggest enhancements but never independently action your ideas unless Daniel approves of them. 

## Python Conventions

You can use uv to create virtual environments, but switch to a regular venv if we're running into package difficulties. 

After creating an environment, activate it. Make sure that it is active before attempting to run scripts. If you run into errors with package availability, consider firstly whether the virtual environment is active. 

---

## File Hygiene & Structure

Daniel likes to keep organised file repositories.

Try to avoid generating a large amount of scripts for single purpose use. Ie, if you can run the commands directly, try to do so.

Consider proactively initiating repository cleanups at various points during a lengthy session or throughout a project.

Unless otherwise instrcuted, assume that Daniel's intention is to create private repositories. If the repo is public, assume that beyond not wishing to expose secrets, Daniel does not want to include PII and other private information. You may flag any that you encounter if the context is a public repo.

---

## CLIs & Tools

* Authenticated and available:

  * `gh` (GitHub)
  * `wrangler` (Cloudflare)
  *b2 and wasabi for objective storage"
  8 op for secrets

Daniel uses Cloudflare Pages extensively for deployment. The CLI is authenticated.

---

## Implicit Instructions

If the following files exist in the repo root, treat them as current task definitions:

* `instructions.md`
* `prompt.md`
* `task.md`

Read and follow them without asking unless ambiguity exists.